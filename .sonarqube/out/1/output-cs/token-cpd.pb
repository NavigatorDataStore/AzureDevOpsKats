ý
XD:\Build\AzureDevOpsKats\src\AzureDevOpsKats.Service\Configuration\ApplicationOptions.cs
	namespace 	
AzureDevOpsKats
 
. 
Service !
.! "
Configuration" /
{ 
public 

class 
ApplicationOptions #
{ 
public 
FileStorage 
FileStorage &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
} 
} †
QD:\Build\AzureDevOpsKats\src\AzureDevOpsKats.Service\Configuration\FileStorage.cs
	namespace 	
AzureDevOpsKats
 
. 
Service !
.! "
Configuration" /
{ 
public 

class 
FileStorage 
{ 
public 
string 
FilePath 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
RequestPath !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
}		 ó
MD:\Build\AzureDevOpsKats\src\AzureDevOpsKats.Service\Interface\ICatService.cs
	namespace 	
AzureDevOpsKats
 
. 
Service !
.! "
	Interface" +
{ 
public 

	interface 
ICatService  
{ 
IEnumerable 
< 
CatModel 
> 
GetCats %
(% &
)& '
;' (
CatModel

 
GetCat

 
(

 
int

 
id

 
)

 
;

  
void 
EditCat 
( 
int 
id 
, 
CatUpdateModel +
cat, /
)/ 0
;0 1
void 
	CreateCat 
( 
CatModel 
cat  #
)# $
;$ %
void 
	DeleteCat 
( 
int 
id 
) 
; 
} 
} ›
ND:\Build\AzureDevOpsKats\src\AzureDevOpsKats.Service\Interface\IFileService.cs
	namespace 	
AzureDevOpsKats
 
. 
Service !
.! "
	Interface" +
{ 
public 

	interface 
IFileService !
{ 
void 

DeleteFile 
( 
string 
filePath '
)' (
;( )
void 
SaveFile 
( 
string 
filePath %
,% &
byte' +
[+ ,
], -
bytes. 3
)3 4
;4 5
} 
}		 Ý

XD:\Build\AzureDevOpsKats\src\AzureDevOpsKats.Service\Mappings\AutoMapperConfiguration.cs
	namespace 	
AzureDevOpsKats
 
. 
Service !
.! "
Mappings" *
{ 
public 

class #
AutoMapperConfiguration (
{ 
private		 
static		 
bool		 !
_isMappinginitialized		 1
;		1 2
public 
static 
MapperConfiguration )
	Configure* 3
(3 4
)4 5
=>6 8
new9 <
MapperConfiguration= P
(P Q
cfgQ T
=>U W
{ 	
Mapper 
. 

Initialize 
( 
x 
=>  "
{ 
x 
. 
	CreateMap 
< 
Cat 
,  
CatModel! )
>) *
(* +
)+ ,
., -

ReverseMap- 7
(7 8
)8 9
;9 :
} 
) 
; 
Mapper 
. &
AssertConfigurationIsValid -
(- .
). /
;/ 0!
_isMappinginitialized !
=" #
true$ (
;( )
} 	
)	 

;
 
} 
} á
MD:\Build\AzureDevOpsKats\src\AzureDevOpsKats.Service\Models\CatCreateModel.cs
	namespace 	
AzureDevOpsKats
 
. 
Service !
.! "
Models" (
{ 
public 

class 
CatCreateModel 
{ 
[ 	
Required	 
] 
[ 	
	MaxLength	 
( 
$num 
) 
] 
public		 
string		 
Name		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
[ 	
Required	 
] 
[ 	
	MaxLength	 
( 
$num 
) 
] 
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
byte 
[ 
] 
Bytes 
{ 
get !
;! "
set# &
;& '
}( )
} 
} ü
MD:\Build\AzureDevOpsKats\src\AzureDevOpsKats.Service\Models\CatInsertModel.cs
	namespace 	
AzureDevOpsKats
 
. 
Service !
.! "
Models" (
{ 
public 

class 
CatInsertModel 
{ 
[ 	
Required	 
] 
[ 	
	MaxLength	 
( 
$num 
) 
] 
public		 
string		 
Name		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
[ 	
Required	 
] 
[ 	
	MaxLength	 
( 
$num 
) 
] 
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
[ 	
Required	 
] 
public 
byte 
[ 
] 
Bytes 
{ 
get !
;! "
set# &
;& '
}( )
public 
override 
string 
ToString '
(' (
)( )
{ 	
return 
$" 
Name: 
{ 
Name 
}  
|Description:  -
{- .
Description. 9
}9 :
": ;
;; <
} 	
} 
} Ì	
GD:\Build\AzureDevOpsKats\src\AzureDevOpsKats.Service\Models\CatModel.cs
	namespace 	
AzureDevOpsKats
 
. 
Service !
.! "
Models" (
{ 
public 

class 
CatModel 
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
[		 	
Required			 
]		 
[

 	
	MaxLength

	 
(

 
$num

 
)

 
]

 
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
Required	 
] 
[ 	
	MaxLength	 
( 
$num 
) 
] 
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Photo 
{ 
get !
;! "
set# &
;& '
}( )
} 
} ¬
MD:\Build\AzureDevOpsKats\src\AzureDevOpsKats.Service\Models\CatUpdateModel.cs
	namespace 	
AzureDevOpsKats
 
. 
Service !
.! "
Models" (
{ 
public 

class 
CatUpdateModel 
{ 
[ 	
Required	 
] 
[ 	
	MaxLength	 
( 
$num 
) 
] 
public		 
string		 
Name		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
[ 	
Required	 
] 
[ 	
	MaxLength	 
( 
$num 
) 
] 
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
}  
JD:\Build\AzureDevOpsKats\src\AzureDevOpsKats.Service\Service\CatService.cs
	namespace 	
AzureDevOpsKats
 
. 
Service !
.! "
Service" )
{		 
public

 

class

 

CatService

 
:

 
ICatService

 )
{ 
private 
readonly 
ICatRepository '
_catRepository( 6
;6 7
public 

CatService 
( 
ICatRepository (
catRepository) 6
)6 7
{ 	
this 
. 
_catRepository 
=  !
catRepository" /
;/ 0
} 	
public 
IEnumerable 
< 
CatModel #
># $
GetCats% ,
(, -
)- .
{ 	
var 
cats 
= 
_catRepository %
.% &
GetCats& -
(- .
). /
;/ 0
var 
results 
= 
Mapper  
.  !
Map! $
<$ %
IEnumerable% 0
<0 1
CatModel1 9
>9 :
>: ;
(; <
cats< @
)@ A
;A B
foreach 
( 
var 
result 
in  "
results# *
)* +
{ 
result 
. 
Photo 
= 
$str *
++ ,
result- 3
.3 4
Photo4 9
;9 :
} 
return 
results 
; 
} 	
public 
CatModel 
GetCat 
( 
int "
id# %
)% &
{ 	
var   
cat   
=   
_catRepository   $
.  $ %
GetCat  % +
(  + ,
id  , .
)  . /
;  / 0
var!! 
result!! 
=!! 
Mapper!! 
.!!  
Map!!  #
<!!# $
CatModel!!$ ,
>!!, -
(!!- .
cat!!. 1
)!!1 2
;!!2 3
return## 
result## 
;## 
}$$ 	
public&& 
void&& 
EditCat&& 
(&& 
int&& 
id&&  "
,&&" #
CatUpdateModel&&$ 2
cat&&3 6
)&&6 7
{'' 	
var(( 
result(( 
=(( 
new(( 
Cat((  
{)) 
Id** 
=** 
id** 
,** 
Name++ 
=++ 
cat++ 
.++ 
Name++ 
,++  
Description,, 
=,, 
cat,, !
.,,! "
Description,," -
,,,- .
}-- 
;-- 
_catRepository// 
.// 
EditCat// "
(//" #
result//# )
)//) *
;//* +
}00 	
public22 
void22 
	CreateCat22 
(22 
CatModel22 &
cat22' *
)22* +
{33 	
var44 
result44 
=44 
Mapper44 
.44  
Map44  #
<44# $
Cat44$ '
>44' (
(44( )
cat44) ,
)44, -
;44- .
_catRepository55 
.55 
	CreateCat55 $
(55$ %
result55% +
)55+ ,
;55, -
}66 	
public88 
void88 
	DeleteCat88 
(88 
int88 !
id88" $
)88$ %
{99 	
_catRepository:: 
.:: 
	DeleteCat:: $
(::$ %
id::% '
)::' (
;::( )
};; 	
}<< 
}== ³
KD:\Build\AzureDevOpsKats\src\AzureDevOpsKats.Service\Service\FileService.cs
	namespace 	
AzureDevOpsKats
 
. 
Service !
.! "
Service" )
{ 
public 

class 
FileService 
: 
IFileService +
{ 
private 
readonly 
string 
_applicationPath  0
;0 1
public

 
FileService

 
(

 
string

 !
applicationPath

" 1
)

1 2
{ 	
_applicationPath 
= 
applicationPath .
;. /
} 	
public 
void 
SaveFile 
( 
string #
filePath$ ,
,, -
byte. 2
[2 3
]3 4
bytes5 :
): ;
{ 	
File 
. 
WriteAllBytes 
( 
filePath '
,' (
bytes) .
). /
;/ 0
} 	
public 
void 

DeleteFile 
( 
string %
fileName& .
). /
{ 	
var 
filePath 
= 
Path 
.  
Combine  '
(' (
$"( *
{* +
Path+ /
./ 0
GetFullPath0 ;
(; <
_applicationPath< L
)L M
}M N
/N O
{O P
fileNameP X
}X Y
"Y Z
)Z [
;[ \
if 
( 
File 
. 
Exists 
( 
filePath $
)$ %
)% &
{ 
File 
. 
Delete 
( 
filePath $
)$ %
;% &
} 
} 	
public 
void 
Dispose 
( 
) 
{ 	
} 	
}   
}!! 